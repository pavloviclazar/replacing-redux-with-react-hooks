{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nlet globalState = {};\nlet listeners = [];\nlet actions = {};\nexport const useStore = () => {\n  _s();\n  const setState = useState(globalState)[1];\n  const dispatch = (actionIdentifier, payload) => {\n    const newState = actions[actionIdentifier](globalState, payload);\n    globalState = {\n      ...globalState,\n      ...newState\n    };\n    for (const listener of listeners) {\n      listener(globalState);\n    }\n  };\n  useEffect(() => {\n    listeners.push(setState);\n    return () => {\n      listeners = listeners.filter(li => li !== setState);\n    };\n  }, [setState]);\n  return [globalState, dispatch];\n};\n_s(useStore, \"nM5W+84F396yCKDu4U2VhqiPF0o=\");\nexport const initStore = (userActions, initState) => {\n  if (initState) {\n    globalState = {\n      ...globalState,\n      ...initState\n    };\n  }\n  actions = {\n    ...actions,\n    ...userActions\n  };\n};","map":{"version":3,"names":["useState","useEffect","globalState","listeners","actions","useStore","setState","dispatch","actionIdentifier","payload","newState","listener","push","filter","li","initStore","userActions","initState"],"sources":["/Users/mac/Downloads/replace-redux-01-starting-project/src/hooks-store/store.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nlet globalState = {};\nlet listeners = [];\nlet actions = {};\n\nexport const useStore = () => {\n  const setState = useState(globalState)[1];\n\n  const dispatch = (actionIdentifier, payload) => {\n    const newState = actions[actionIdentifier](globalState, payload);\n    globalState = { ...globalState, ...newState };\n\n    for (const listener of listeners) {\n      listener(globalState);\n    }\n  };\n\n  useEffect(() => {\n    listeners.push(setState);\n\n    return () => {\n      listeners = listeners.filter((li) => li !== setState);\n    };\n  }, [setState]);\n\n  return [globalState, dispatch];\n};\n\nexport const initStore = (userActions, initState) => {\n  if (initState) {\n    globalState = { ...globalState, ...initState };\n  }\n\n  actions = { ...actions, ...userActions };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,IAAIC,WAAW,GAAG,CAAC,CAAC;AACpB,IAAIC,SAAS,GAAG,EAAE;AAClB,IAAIC,OAAO,GAAG,CAAC,CAAC;AAEhB,OAAO,MAAMC,QAAQ,GAAG,MAAM;EAAA;EAC5B,MAAMC,QAAQ,GAAGN,QAAQ,CAACE,WAAW,CAAC,CAAC,CAAC,CAAC;EAEzC,MAAMK,QAAQ,GAAG,CAACC,gBAAgB,EAAEC,OAAO,KAAK;IAC9C,MAAMC,QAAQ,GAAGN,OAAO,CAACI,gBAAgB,CAAC,CAACN,WAAW,EAAEO,OAAO,CAAC;IAChEP,WAAW,GAAG;MAAE,GAAGA,WAAW;MAAE,GAAGQ;IAAS,CAAC;IAE7C,KAAK,MAAMC,QAAQ,IAAIR,SAAS,EAAE;MAChCQ,QAAQ,CAACT,WAAW,CAAC;IACvB;EACF,CAAC;EAEDD,SAAS,CAAC,MAAM;IACdE,SAAS,CAACS,IAAI,CAACN,QAAQ,CAAC;IAExB,OAAO,MAAM;MACXH,SAAS,GAAGA,SAAS,CAACU,MAAM,CAAEC,EAAE,IAAKA,EAAE,KAAKR,QAAQ,CAAC;IACvD,CAAC;EACH,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEd,OAAO,CAACJ,WAAW,EAAEK,QAAQ,CAAC;AAChC,CAAC;AAAC,GArBWF,QAAQ;AAuBrB,OAAO,MAAMU,SAAS,GAAG,CAACC,WAAW,EAAEC,SAAS,KAAK;EACnD,IAAIA,SAAS,EAAE;IACbf,WAAW,GAAG;MAAE,GAAGA,WAAW;MAAE,GAAGe;IAAU,CAAC;EAChD;EAEAb,OAAO,GAAG;IAAE,GAAGA,OAAO;IAAE,GAAGY;EAAY,CAAC;AAC1C,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}